rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // PUBLIC READ, ADMIN WRITE for menu and categories
    match /categories/{document=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }

    match /menu-items/{document=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }

    // ANYONE can create an order (for staff)
    // ANYONE can get a single order (for invoice page)
    // ONLY ADMIN can see the full list, update, or delete orders.
    match /orders/{document=**} {
      allow create, get: if true;
      allow list, update, delete: if request.auth != null;
    }
  }
}
